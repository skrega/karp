Fancybox.bind("[data-fancybox]"),window.onload=function(){let e=document.getElementById("preloader");e.classList.add("_hide"),setInterval(function(){e.style.display="none"},990)};let headerBurger=document.querySelector("#hamburger"),headerMenu=document.querySelector(".header__menu"),isClosed=!0;function burgerToggle(){isClosed=0==isClosed?(headerBurger.classList.remove("is-open"),headerBurger.classList.add("is-closed"),headerMenu.classList.remove("_show"),document.body.classList.remove("_lock"),document.querySelector(".wrapper").classList.remove("_lock"),!0):(headerBurger.classList.remove("is-closed"),headerBurger.classList.add("is-open"),headerMenu.classList.add("_show"),document.body.classList.add("_lock"),document.querySelector(".wrapper").classList.add("_lock"),!1)}headerBurger.addEventListener("click",function(){burgerToggle()}),document.querySelector(".header__links-open").addEventListener("click",e=>{document.querySelector(".header__links").classList.toggle("_show")}),document.querySelector(".menu-item-has-children").addEventListener("click",e=>{"A"!==e.target.tagName&&(document.querySelector(".sub-menu").classList.toggle("_show"),e.currentTarget.classList.toggle("_active"))});let accordionItems=document.querySelectorAll(".faq__item"),toogleItem=(0<accordionItems.length&&accordionItems.forEach(t=>{t.querySelector(".faq__row").addEventListener("click",()=>{var e=document.querySelector(".accordion-open");toogleItem(t),e&&e!==t&&toogleItem(e)})}),e=>{var t=e.querySelector(".faq__content");e.classList.contains("accordion-open")?(t.removeAttribute("style"),e.classList.remove("accordion-open")):(t.style.height=t.scrollHeight+"px",e.classList.add("accordion-open"))}),introSlider=new Swiper(".intro",{slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0}}),productsSlider=new Swiper(".products__slider",{slidesPerView:4,spaceBetween:32,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},observer:!0,observer:!0,runCallbacksOnInit:!0,updateOnImagesReady:!0,breakpoints:{320:{spaceBetween:8,slidesPerView:2},767:{spaceBetween:16,slidesPerView:3},1023:{spaceBetween:24,slidesPerView:4},1439:{spaceBetween:32}}}),gallerySlider=new Swiper(".gallery__list",{effect:"coverflow",grabCursor:!0,centeredSlides:!0,centeredSlidesBounds:!0,slidesPerView:4.16,coverflowEffect:{rotate:32,stretch:0,depth:100,modifier:1,slideShadows:!0},spaceBetween:16,loop:!0,autoplay:!0,breakpoints:{320:{slidesPerView:1.6,coverflowEffect:{rotate:52,stretch:0,depth:400,modifier:1,slideShadows:!0}},767:{slidesPerView:2.8,coverflowEffect:{rotate:32,stretch:0,depth:100,modifier:1,slideShadows:!0}},1023:{slidesPerView:4.16}}}),teamSlider=new Swiper(".team__slider",{slidesPerView:4,spaceBetween:32,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{spaceBetween:8,slidesPerView:2},767:{spaceBetween:16,slidesPerView:3},1023:{spaceBetween:24,slidesPerView:4},1439:{spaceBetween:32}}}),defaultOffset=($(".js-slider-list .swiper-slide").css("display","none"),$(".js-slider-list .swiper-slide"+$(".js-slider-filter a").attr("data-filter")).css("display",""),$(".js-slider-filter").on("click","a",function(){var e=$(this).attr("data-filter");return $(".js-slider-list .swiper-slide").css("display","none"),$(".js-slider-list .swiper-slide"+e).css("display",""),$(".js-slider-filter a").removeClass("_accent"),$(this).addClass("_accent"),1<productsSlider.length?productsSlider.forEach(e=>{e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.slideTo(0)}):(productsSlider.updateSize(),productsSlider.updateSlides(),productsSlider.updateProgress(),productsSlider.updateSlidesClasses(),productsSlider.slideTo(0)),!1}),jQuery(function(e){e("body").on("click",".js-open-modal",function(){e(this).closest(".product-card").addClass("_show")}),e("body").on("click",".js-close-modal",function(){e(this).closest(".product-card").removeClass("_show")})}),200),btnUp={el:document.querySelector(".scroll-top"),show(){this.el.classList.remove("_hide")},hide(){this.el.classList.add("_hide")},addEventListener(){window.addEventListener("scroll",()=>{(window.scrollY||document.documentElement.scrollTop)>defaultOffset?this.show():this.hide()}),document.querySelector(".scroll-top").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}},phoneInputs=(document.querySelector(".scroll-top")&&btnUp.addEventListener(),document.querySelectorAll('input[type="tel"]')),getInputNumbersValue=function(e){return e.value.replace(/\D/g,"")},onPhonePaste=function(e){var t=e.target,s=getInputNumbersValue(t),e=e.clipboardData||window.clipboardData;e&&(e=e.getData("Text"),/\D/g.test(e))&&(t.value=s)},onPhoneInput=function(e){let t=e.target,s=getInputNumbersValue(t),r=t.selectionStart,l="";if(!s)return t.value="";t.value.length!=r?e.data&&/\D/g.test(e.data)&&(t.value=s):(-1<["7","8","9"].indexOf(s[0])?(e="8"==(s="9"==s[0]?"7"+s:s)[0]?"8":"+7",l=t.value=e+" ",1<s.length&&(l+="("+s.substring(1,4)),5<=s.length&&(l+=") "+s.substring(4,7)),8<=s.length&&(l+="-"+s.substring(7,9)),10<=s.length&&(l+="-"+s.substring(9,11))):l="+"+s.substring(0,16),t.value=l)},onPhoneKeyDown=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(let e of phoneInputs)e.addEventListener("keydown",onPhoneKeyDown),e.addEventListener("input",onPhoneInput,!1),e.addEventListener("paste",onPhonePaste,!1);class PortableBlocks{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="js-portable",this.nodes=[...document.querySelectorAll("[data-transfer]")],this.nodes.forEach(e=>{var t=e.dataset.transfer.trim().split(","),s={};s.element=e,s.parent=e.parentNode,s.destination=document.querySelector("."+t[0].trim()),s.breakpoint=t[1]?t[1].trim():"767",s.place=t[2]?t[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:e})=>`(${this.type}-width: ${e}px),`+e).filter((e,t,s)=>s.indexOf(e)===t),this.mediaQueries.forEach(e=>{e=e.split(",");let t=window.matchMedia(e[0]),s=e[1],r=this.оbjects.filter(({breakpoint:e})=>e===s);t.addEventListener("change",()=>{this.mediaHandler(t,r)}),this.mediaHandler(t,r)})}mediaHandler(e,t){e.matches?t.forEach(e=>{this.moveTo(e.place,e.element,e.destination)}):t.forEach(({parent:e,element:t,index:s})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,s)})}moveTo(e,t,s){t.classList.add(this.daClassname),"last"===e||e>=s.children.length?s.append(t):"first"===e?s.prepend(t):s.children[e].before(t)}moveBack(e,t,s){t.classList.remove(this.daClassname),void 0!==e.children[s]?e.children[s].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:0:e.breakpoint-t.breakpoint):e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:0:t.breakpoint-e.breakpoint)}}let portableBlocks=new PortableBlocks("max");portableBlocks.init(),document.querySelector(".checkout__next")&&document.querySelector(".checkout__next").addEventListener("click",e=>{var t=document.querySelector(".checkout__tab._tab-1"),s=document.querySelector(".checkout__tab._tab-2");t.classList.toggle("_hide"),s.classList.toggle("_show"),document.querySelector(".checkout-steps > li:last-child").classList.add("_active");let r=document.querySelector("#billing_first_name").value,l=document.querySelector("#billing_phone").value,i=document.querySelector("#billing_address_1").value,n=document.querySelector("#billing_date").value,o=document.querySelector("#billing_quantity").value;document.querySelectorAll(".checkout__info li").forEach(e=>{var t=e.querySelector("span");e.classList.contains("checkout-name")&&(t.innerText=r),e.classList.contains("checkout-phone")&&(t.innerText=l),e.classList.contains("checkout-address")&&(t.innerText=i),e.classList.contains("checkout-date")&&(t.innerText=n),e.classList.contains("checkout-persons")&&(t.innerText=o)})}),document.querySelector('[name="billing_quicker"]')&&document.querySelectorAll('[name="billing_quicker"]').forEach(t=>{t.addEventListener("change",e=>{console.log(t.value),"Организация"!=t.value?document.querySelector("#billing_date").style.display="none":document.querySelector("#billing_date").removeAttribute("style")})}),document.querySelector('[name="billing_private"]')&&document.querySelector('[name="billing_private"]').addEventListener("change",e=>{e.target.checked?(document.querySelector("#billing_apartment_field").style.display="none",document.querySelector("#billing_floor_field").style.display="none",document.querySelector("#billing_entrance_field").style.display="none",document.querySelector("#billing_intercom_field").style.display="none"):(document.querySelector("#billing_apartment_field").removeAttribute("style"),document.querySelector("#billing_floor_field").removeAttribute("style"),document.querySelector("#billing_entrance_field").removeAttribute("style"),document.querySelector("#billing_intercom_field").removeAttribute("style"))});